(function(t){function e(e){for(var o,i,a=e[0],c=e[1],l=e[2],p=0,f=[];p<a.length;p++)i=a[p],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&f.push(s[i][0]),s[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,a=1;a<n.length;a++){var c=n[a];0!==s[c]&&(o=!1)}o&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},s={app:0},r=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0a16":function(t,e,n){},"14fa":function(t,e,n){"use strict";var o=n("9a0f"),s=n.n(o);s.a},"17d3":function(t,e,n){},"1a0f":function(t,e,n){"use strict";var o=n("17d3"),s=n.n(o);s.a},"208f":function(t,e,n){"use strict";var o=n("0a16"),s=n.n(o);s.a},"3c47":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("a133"),n("ed0d"),n("f09c"),n("e117");var o=n("0261"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Chat")],1)},r=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("ToolbarContainer"),n("div",{ref:"list",staticClass:"list",attrs:{id:"list"}},[n("ul",t._l(t.msglist,(function(t,e){return n("li",{key:e},[t.me?n("RightItem",{attrs:{id:t.id,type:t.type,content:t.content}}):n("LeftItem",{attrs:{id:t.id,type:t.type,content:t.content}}),n("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticStyle:{height:"0"}})],1)})),0)]),n("div",{staticClass:"bottom"},[n("div",{staticClass:"line"}),n("div",{staticClass:"input-send"},[n("van-field",{staticClass:"input",attrs:{placeholder:"请输入聊天内容..."},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.send(e)}},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),n("van-button",{staticClass:"send",attrs:{plain:"",type:"info"},on:{click:t.send}},[t._v("发送")])],1)])],1)},a=[],c=(n("e18c"),n("82ae")),l=n.n(c),u=l.a.create({baseURL:"/api",timeout:8e3});u.interceptors.request.use((function(t){return console.log("config>"+JSON.stringify(t)),t}),(function(t){return console.log("request-error>"+t),Promise.reject(t)})),u.interceptors.response.use((function(t){console.log(t.data);var e=t.data;return console.log(e.ret),0!==e.ret?Promise.reject(new Error(e.msg||"Error")):e}),(function(t){return console.log("response-error>"+t),Promise.reject(t)}));var p=u,f=n("897d"),h=n.n(f);function v(t){return p({url:"fcgi-bin/nlp/nlp_textchat?"+d(t),method:"get"})}function d(t){var e=2151744249,n="AWNcQGMMWi0OUceN",o="fa577ce340859f9fe",s=encodeURIComponent(t),r=1e4,i=parseInt(Date.now()/1e3),a="app_id="+e+"&nonce_str="+o+"&question="+s+"&session="+r+"&time_stamp="+i+"&app_key="+n,c=h()(a).toUpperCase();return a+"&sign="+c}var m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("img",{staticClass:"head",attrs:{src:"https://pp.myapp.com/ma_icon/0/icon_42284557_1517984341/96"}}),n("div",{staticClass:"content"},[1===t.type?n("div",{staticClass:"text"},[t._v(" "+t._s(t.content)+" ")]):2===t.type?n("img",{staticClass:"img",attrs:{src:t.content},on:{click:function(e){return t.preview(t.content)}}}):t._e()])])},g=[],y=n("1fe6"),b=n.n(y),A={name:"LeftItem",props:["id","type","content"],methods:{preview:function(t){b()([t])}}},C=A,w=(n("14fa"),n("9ca4")),H=Object(w["a"])(C,m,g,!1,null,"1d9ac34c",null),O=H.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("img",{staticClass:"head",attrs:{src:"https://dss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=1068485212,3292662520&fm=111&gp=0.jpg"}}),n("div",{staticClass:"content"},[1===t.type?n("div",{staticClass:"text",staticStyle:{"word-break":"break-all"}},[t._v(" "+t._s(t.content)+" ")]):2===t.type?n("img",{staticClass:"img",attrs:{src:t.content}}):t._e()])])},B=[],E={name:"RightItem",props:["id","type","content"]},P=E,T=(n("ca79"),Object(w["a"])(P,j,B,!1,null,"641cddf7",null)),x=T.exports,k=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-toolbar",[o("img",{attrs:{src:n("cf05")}}),o("v-toolbar-title",[t._v(" COVID-19 聊天机器人 ")]),o("v-spacer"),o("v-btn",{staticClass:"help-toggle",attrs:{icon:""}},[o("v-icon",[t._v("help_toggle")])],1)],1)},S=[],U={name:"toolbar-container",data:function(){return{shouldShowTooltip:!1,shouldShowHelpTooltip:!1,tooltipHelpEventHandlers:{mouseenter:this.onHelpButtonHoverEnter,mouseleave:this.onHelpButtonHoverLeave,touchstart:this.onHelpButtonHoverEnter,touchend:this.onHelpButtonHoverLeave,touchcancel:this.onHelpButtonHoverLeave},tooltipEventHandlers:{mouseenter:this.onInputButtonHoverEnter,mouseleave:this.onInputButtonHoverLeave,touchstart:this.onInputButtonHoverEnter,touchend:this.onInputButtonHoverLeave,touchcancel:this.onInputButtonHoverLeave}}},props:["toolbarTitle","toolbarColor"],methods:{mouseOverPrev:function(){this.prevNav=!this.prevNav},onHelpButtonHoverEnter:function(){this.shouldShowHelpTooltip=!0},onHelpButtonHoverLeave:function(){this.shouldShowHelpTooltip=!1},sendHelp:function(){var t={type:"human",text:this.helpButton};this.$store.dispatch("postTextMessage",t),this.shouldShowHelpTooltip=!1},onPrev:function(){if(this.prevNav&&this.mouseOverPrev(),!this.$store.state.isBackProcessing){this.$store.commit("popUtterance");var t=this.$store.getters.lastUtterance();if(t&&t.length>0){var e={type:"human",text:t};this.$store.commit("toggleBackProcessing"),this.$store.dispatch("postTextMessage",e)}}}}},R=U,I=(n("208f"),Object(w["a"])(R,k,S,!1,null,null,null)),V=I.exports;o["default"].directive("scroll",{inserted:function(t){t.scrollIntoView()}});var L={name:"Chat",components:{ToolbarContainer:V,LeftItem:O,RightItem:x},data:function(){return{text:"",msglist:[{id:1,type:1,content:"欢迎你！",me:!1}]}},methods:{send:function(){this.text&&(this.msglist.push({id:this.msglist[this.msglist.length-1].id+1,type:1,content:this.text,me:!0}),this.getResponse(this.text),this.text="")},getResponse:function(t){var e=this;v(t).then((function(t){console.log(t),e.msglist.push({id:e.msglist[e.msglist.length-1].id+1,type:1,content:t.data.answer,me:!1})}))}}},K=L,N=(n("1a0f"),Object(w["a"])(K,i,a,!1,null,"1866468b",null)),_=N.exports,F={name:"App",components:{Chat:_}},W=F,D=Object(w["a"])(W,s,r,!1,null,"15b9f9e8",null),G=D.exports;n("79bb"),o["default"].config.productionTip=!1,new o["default"]({render:function(t){return t(G)}}).$mount("#app")},"79bb":function(t,e,n){"use strict";n.r(e);var o=n("0261"),s=n("b6d9"),r=(n("b378"),n("b1d0"));o["default"].use(s["a"]),o["default"].use(r["a"])},"9a0f":function(t,e,n){},ca79:function(t,e,n){"use strict";var o=n("3c47"),s=n.n(o);s.a},cf05:function(t,e){t.exports="data:image/png;base64,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"}});
//# sourceMappingURL=app.97628dd6.js.map